{% load static from staticfiles %}
{% block externals %}
<link rel="stylesheet" type="text/css" href="{% static 'css/base.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/apply.css' %}">
{% endblock %}
{% block content %}
<h1 class = "navbar-logo"> Apply to CodeBase </h1>
<h2> Thanks for your interest in joining! Please fill out the interest form below. </h2>
<form method="post">
  {% csrf_token %}
  <p> First Name: </p>
  <input id="first_name" type="text" name="first_name">
  <p> Last Name: </p>
  <input id="last_name" type="text" name="last_name">
  <p> Berkeley Email: </p>
  <input id="email" type="text" name="email">
  {% for question in questions_and_options %}
    {% if question.0.question_type == "Paragraph" %}
      <p> {{ question.0.question_text }} </p>
      <input id={{question.0.question_text}} type="text" name={{question.0.question_text}}>
    {% elif question.0.question_type == "RadioButton" %}
      <p> {{ question.0.question_text }} </p>
      {% for option in question.1 %}
        <input id={{option}} type="radio" value={{option}}> {{option}} </br>
      {% endfor %}



    {% elif question.0.question_type == "Dropdown" %}
      <p>
        <div class="dropdown">
          <div class="dropbtn">{{ question.0.question_text }}</div>
          <div class="dropdown-content">
      {% for option in question.1 %}
        <div id={{option}} type="dropdown" value={{option}} class="dropdown-content"> {{ option}} </div>
      {% endfor %}
          </div>
        </div>
      </p>



    {% elif question.0.question_type == "Checkbox" %}
      <p> {{ question.0.question_text }} </p>
      {% for option in question.1 %}
        <input id={{option}} type="checkbox" value={{option}}> {{option}} </br>
      {% endfor %}
    {% endif %}



  {% endfor %} </br>
</br>
  <input id="submit" type="submit" value="Submit"> </br>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
  function validateForm() {
    var isValid = true;
    $("input").each(function() {
      if ($(this).val() == '')
          isValid = false;
    });
    return isValid;
  }
  $("form").submit(function(e) {
    if (validateForm() == False)
      alert("All fields must be filled!")
      e.preventDefault(e)
  });
  </script>

  <p>
    <div class="dropdown">
      <div class="dropbtn">Some question</div>
      <div class="dropdown-content">
        <div class="dropdown-content">Option 1</div>
        <div class="dropdown-content">Option 2</div>
        <div class="dropdown-content">Option 3</div>
      </div>
    </div>
  </p>


</form>
{% endblock %}
